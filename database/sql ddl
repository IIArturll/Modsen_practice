create table user (
    id int primary key generated by default as identity,
    name varchar(255) not null,
    surname varchar(255) not null,
    email varchar(255) unique not null,
    login varchar(255) unique not null,
    password varchar(255) not null,
    role_id int references roles(id),
    sex int not null
);

create table role (
    id int primary key generated by default as identity,
    role varchar(50) not null
);

create table orders(
	id int primary key generated by default as identity,
	user_id int references Users(id),
	price decimal(2) not null,
	cooking_time int not null,
	order_time timestamp
);

create table product(
	id int primary key generated by default as identity,
	name varchar(255) not null,
	weight int not null,
	calories int not null,
	protein int not null,
	fats int not null,
	carbs int not null,
	price decimal(2) not null,
	categories_id int references categories(id)
)

create table order_product(
	id int primary key generated by default as identity,
	order_id int references orders(id),
	product_id int references product(id)
)

create table category(
	id int primary key generated by default as identity,
	name varchar(255) not null,
	description varchar(255) not null
)

create table ingredient(
	id int primary key generated by default as identity,
	name varchar(255) not null,
	calories int not null,
	protein int not null,
	fats int not null,
	carbs int not null
)

create table product_ingredient(
	id int primary key generated by default as identity,
	ingredient_id int references ingredient(id),
	product_id int references product(id),
	weight decimal(2)
)

create table ingredient_model(
	id int primary key generated by default as identity,
	ingredient_id int references ingredient(id),
	weight int not null
)




